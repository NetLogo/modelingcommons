<table border="1">

    <tr>
        <th>Model</td>
        <th>Tags</td>
        <th>Group</td>
        <th>Modified</td>
        <th>Modified by</th>
    </tr>

    <% model_list.each do |model| %>

        <tr>
            <td>
                <img src="/browse/display_preview/<%= model.id %>" width="30" height="30" />
                <%= link_to model.name, :controller => "browse", :action => "one_model", :id => model.id %><%= render :partial => "browse/preview_image", :locals => {:model => @model} -%>
            </td>
            <td>
            <% if model.tags.empty? %>
               (No tags)
            <% else %>
                 <%= model.tags.sort_by {|t| t.name}.map {|t| link_to t.name, :controller => :tags, :action => :one_tag, :id => t.id}.uniq.join(', ') %>
            <% end %>
            </td>

            <td>
            <% if model.group.nil? %>
                (No group)
            <% else %>
                <%= group_link(model.group) %>
            <% end %>
            </td>
            <td><%= distance_of_time_in_words(Time.now, model.node_versions.first.updated_at) %> ago</td>
            <td>
                <% if model.people.length == 1 %>
                    <%= image_tag model.people[0].avatar.url -%><%= person_link(model.people[0]) %>
                <% else %>
                    <ul>
                        <% model.people.each do |person| %>
                            <li><%= image_tag @person.avatar.url(:small) %><%= person_link(person) %></li>
                        <% end %>
                    </ul>
                <% end %>

            </td>
        </tr>

    <% end %>

</table>

